# DB-6 ベンダー依存のない細粒度アクセス制御基盤

## 概要

銀行や公共機関など、機密情報を扱うシステムではデータの行・列レベルで閲覧可否を制御する必要がある。従来は各DB製品が独自に行レベルセキュリティやラベル機能を提供していたが、ベンダー固有の機能に依存するとライセンスコストが高く、他社製DBでは同じ制御を再現できない。本ユースケースでは、既存データベースはそのままに、ベンダーに依存せず統一的に細粒度アクセス制御を実現する方法として、ScalarDBの属性ベースアクセス制御(ABAC)を利用する。

## ビジネス課題

- 規制産業や企業内で、情報の機密度や担当者によってデータ閲覧権限を厳格に制御する必要がある。
- 従来の行・列レベルアクセス制御はDB製品ごとに機能差があり、特定のベンダーに依存すると高額なライセンス費用が発生する。
- 異なるDB（オンプレとクラウド、RDBとNoSQLなど）にまたがるシステムでは、それぞれに個別設定が必要となり運用が煩雑になる。

## システム課題

- 行レベルセキュリティやビューを個別に実装すると、アプリケーション側のコードが複雑化する。
- DBごとにアクセス制御の機能差があり、統一的なポリシーを適用しにくい。

## 対象データ・環境

- 機密文書、人事情報、財務データなど、アクセス権限に応じて閲覧範囲を制限したいデータ。
- オンプレミスとクラウドに跨る複数のRDBMSやNoSQL。

## 導入目的・効果

- 既存DBをそのまま利用しながら、行・列レベルのアクセス制御を一元的に適用したい。
- ベンダー特有のセキュリティ機能に依存せず、異なるDB製品間でポリシーを統一したい。

## 解決方法（ソリューション概要）

ScalarDBの属性ベースアクセス制御(ABAC)を利用すると、レコードとユーザーに属性タグを付与するだけで細粒度アクセス制御を実装でき、異種DB間でも共通の設定で権限が適用される（参考: [scalardb.scalar-labs.com](https://scalardb.scalar-labs.com)）。アプリケーションは認可処理をScalarDBに委任できるため、コードからアクセス判定ロジックを排除できる。

## システム構成

- 各レコードにカテゴリや機密度などの属性タグを付与し、ユーザーにも所属部門・役割・職位などの属性を設定する。
- アプリケーションはScalarDBのAPIを通じてデータを読み書きし、ScalarDBがリクエスト時にレコード属性とユーザー属性を照合して許可・拒否を判定する。
- 認証基盤（IdP）と連携してユーザー属性を管理し、アクセスログや監査証跡を一元的に出力する。

## 導入メリット／ROI

- DBやクラウド環境を問わず統一的にアクセス制御を適用でき、個別設定やコード実装を大幅に削減。
- ベンダー特有の機能に依存しないため、ライセンス費用を抑えつつ柔軟にDB製品を選択できる。
- セキュリティポリシーの変更や権限管理が容易になり、監査対応が効率化。

## 類似事例・参考資料

- 金融機関や製造業など機密データを扱う企業が、ベンダー固有のラベルセキュリティ製品ではなくScalarDBのABACを採用し、既存のRDBMSやNoSQLに細粒度アクセス制御を追加した例がある。
- ScalarDBのABACはエンタープライズ向けオプションとして提供され、レコード・ユーザー双方にタグを設定するだけで行レベルの権限を統一的に適用できる仕組みを説明している（参考: [scalardb.scalar-labs.com](https://scalardb.scalar-labs.com)）。

## DB-6とDB-13の関係について

本ユースケース(DB-6)では、ベンダー依存のセキュリティ機能に代えて統一的な細粒度アクセス制御を導入したいという顧客課題に焦点を当てている。解決策として利用する機能はScalarDBのABACであり、これはエンタープライズオプションとして提供される。DB-13はそのABAC機能自体を説明する技術ユースケースであり、両者の解決方法は同一だが、DB-6は「既存ベンダー製品への依存から脱却したい」というビジネス背景を含んでいる点で異なる。実際の提案ではDB-6とDB-13を併せて説明することで、課題と機能の両面を補完できる。
